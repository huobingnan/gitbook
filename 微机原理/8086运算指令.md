---
title: 8086二进制运算指令
date: 2021-12-08
tags:
  - 微机原理
---

## 概述

在CPU中进行的任何运算都是以二进制的形式进行的，在二进制数制下可以进行的运算有很多，通常分为三类分别是：算数运算，逻辑运算，移位运算。

算术运算：加法运算，减法运算，乘法运算，除法运算等。

逻辑运算：按位与运算，按位或运算，按位异或运算，按位取反运算等。

移位运算：逻辑左移，逻辑右移，循环左移，循环右移等。

## 二进制数在计算机中的表示

### 1. 原码和补码

二进制数由0和1组成，平时较为常用的十进制数可以通过算法转化为二进制数，比如53这个十进制数转换为一个8位的二进制数后为：00110110。这是最朴素的计算机存储二进制数的想法，这样转换之后的额二进制数其实是原数字的原码码制。

原码通常用来存储无符号数（正数和零），因为其在有符号数的编码上有问题。在表述有符号数时，以8位二进制数为例，其最高位D7位用于记录符号信息，即1代表负数，但是在表示0这个数字有了`+0`和`-0`之分即`10000000`和`00000000`，这样不仅引起歧义，而且浪费了一个编码空间。

为了解决原码在有符号数上的表示问题，又一种新的码制被提出，那就是补码。

补码的编码规则：
1. 当一个数大于等于零时按照原码的方式进行编码
2. 当一个数小于零时其编码为原码 + 2^n（其中n代表二进制数的长度）

对于负数的补码即规则2一般表述为：`最高位不变，剩余位按位取反 再加一`。

在补码的编码规则下，负数的编码存储和运算都会变得简便，同时不会出现`-0`的情况，在补码中`10000000`被定义为了`-256`。

在补码的码制下，一个n位的有符号二进制数可以表示的十进制数的范围是：[-2^(n-1),  2 ^(n-1) - 1]。

### 2. 算术溢出

在微机系统中，处理器的字长通常是确定的，以8086CPU为例，它的字长为16位即一个字。若在运算的过程中，处理的数据超出了16位二进制数的编码能力，那么就发生了算术的溢出。

溢出又分为有符号数溢出和无符号溢出。

无符号数的溢出比较简单，通常是最高位发生了进位，则表示无符号数的溢出。在8086CPU中PSW（处理器状态字寄存器）的CF=1时，代表运算过程中最高位发生了进位（借位） ，也可以说明无符号数的运算发生了溢出。

有符号数的溢出较为复杂，考虑到有符号数最高位用于表示符号信息，所以次高位的进位也会对计算结果产生影响。

有符号数溢出的两种情况：
1. 最高位进位（借位），次高位不进位（借位）
2. 次高位进位（借位），最高位不进位（借位）

简言之：次高位和最高位同时进位，则不发生溢出。若二者只有其一发生进位，则发生溢出。

## 算术运算

### 1. 加法

### 2. 减法

### 3. 乘法

### 4. 除法


## 逻辑运算

### 1. 按位与

按位与运算是针对于参与运算的每个操作数的每一位进行的。对于参与运算的两个二进制数的每一位来说，若该位都是1，则结果为1，否则结果为0。

在8086CPU指令集中，按位与运算用AND表示，运算结果保存在DST中。

```asm
AND DST, SRC
```

```
    10001100B
AND 11110000B
---------------
    10000000B
```

应用场景：将一个二进制数中的特定位置零。方式为：置零位`与`零，其余位`与`一。

### 2. 按位或

对参与运算的两个二进制数进行按位或，在某一位有一个1则结果为1，若都是0则结果为0。

在8086CPU指令集中，按位或运算用OR表示，运算结果保存在DST中。

```asm
OR DST, SRC
```

```
   10001100B
OR 11110000B
--------------
   11111100B
```

应用场景：将一个二进制数的特定位置一。方式为：置一位`或`一，其余位`或`零。

### 按位异或

参与运算的两个数字中若该位上的数字相同则为0，数字不同则为1。

在8086CPU指令集中，按位或运算用XOR表示，运算结果保存在DST中。

```asm
XOR DST, SRC
```

```
    10001100B
XOR 11110000B
--------------
    01111100B
```

应用场景：将一个二进制数的特定位取反。方式为：将取反为`异或`一，其余位`异或`零。

### 4. 按位取反

若该位为0则取反后的结果为1，若该位为1则取反后的结果0。

在8086CPU指令集中，按位或运算用NOT表示，它只有一个操作数DST，运算结果保存在DST中。

```asm
NOT DST
```

```
NOT 10001110B
--------------
    01110001B
```
