---
title: JavaScript作用域和作用域链
date: 2021-12-14
tags:
  - JavaScript
---

![JavaScript作用域和作用域链](https://cdn.jsdelivr.net/gh/huobingnan/my_image_hosting@master/JavaScript作用域和作用域链.3537goywe560.png)

## 摘要

作用域本质上是变量的集合，作为”域“这个集合并不是海纳百川，只是存储特定范围内的变量。

作用域链表现的是作用域集合的传递性，即一个集合中的变量可以被其他集合索引。

JavaScript这门”糟糕的语言“在ES6之前之后全局作用域和函数作用域两种，ES6之后新增了块级作用域的概念。本文主要探讨ES5标准下的全局作用域和函数作用域，其次探讨ES6新的变量声明关键字和带来的作用域上的变化。

## JavaScript作用域

### 1. 全局作用域

全局作用域是定义在脚本最外层空间的作用域，例如在一个文件中声明的变量和函数都是在全局作用域中。全局作用域的变量处于最顶层，可以被函数级作用域索引并使用，在变量未生命为`const`时，也可以修改全局作用域的变量。

全局作用域的变量优先级很高，也容易造成变量的污染问题。

```javascript
// file1.js
var name = "Bob";

// --------------------

// file2.js
var name = "Bob"
```

如上述代码所示，在两个JavaScript文件中都声明了`name`变量且都在全局作用域，那么`name`的值会受到文件加载顺序的影响，后加载的文件会覆盖先加载的文件。

### 2. 函数作用域

函数作用域顾名思义是定义在函数体内部。在函数作用域内定义的变量只能在函数体内部使用，离开函数体将无法使用。

```javascript
function test() {

}
```

